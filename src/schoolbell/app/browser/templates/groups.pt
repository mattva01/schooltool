<tal:defs define="update view/update" />
<html metal:use-macro="view/@@standard_macros/page" i18n:domain="schoolbell">
<head>
  <title metal:fill-slot="title" tal:content="context/title" />
</head>
<body>
<metal:block metal:fill-slot="body"
             tal:define="batch view/batch">

<form method="post" tal:attributes="action request/URL" class="standalone">
<h3 i18n:translate="">
  Groups of <span i18n:name="title" tal:replace="context/title" />
</h3>
<fieldset tal:define="groups view/getCurrentGroups">
  <legend i18n:translate="">Current Groups</legend>
  <div class="group_list" tal:condition="groups">
    <div tal:repeat="group groups">
      <label>
        <input tal:attributes="name string:remove_group.${group/__name__}"
          type="checkbox" />
        <span tal:replace="group/title" />
      </label>
    </div>
  </div>
  <div class="controls" tal:condition="groups">
    <input type="submit" class="button-ok" name="REMOVE_GROUPS"
      value="Remove"
      title="Shortcut: Alt-R" accesskey="R"
      i18n:attributes="value; accesskey" />
  </div>
  <p tal:condition="not:groups" i18n:translate="">
    There are none.
  </p>
</fieldset>
<fieldset>
  <legend i18n:translate="">Available Groups</legend>
  <div class="group_list">
    <tal:if condition="batch">
      <tal:if condition="request/SEARCH|nothing">
        <tal:block define="extra_url python:'&SEARCH=%s' % request.get('SEARCH')">        <div metal:use-macro="view/@@batch_macros/batch-navigation"/>
        </tal:block>
      </tal:if>
      <tal:if condition="not:request/SEARCH|nothing">
        <div metal:use-macro="view/@@batch_macros/batch-navigation"/>
      </tal:if>
    </tal:if>
    <div class="batch-search">
      <input id="batch-search-box" type="text" name="SEARCH"
          tal:attributes="value request/SEARCH|nothing"/>
      <input type="submit" name="SEARCH_BUTTON" value="Find Now"
          i18n:attributes="value"/>
      <input type="submit" name="CLEAR_SEARCH" value="Clear"
          i18n:attributes="value"/>
    </div>
    <div tal:repeat="group batch">
      <label>
        <input tal:attributes="name string:add_group.${group/__name__}"
          type="checkbox" />
        <span tal:replace="group/title" />
      </label>
    </div>
  </div>
  <p tal:condition="not:batch" i18n:translate="">
    There are none to add.
  </p>
  <div class="controls">
    <input type="submit" class="button-ok" name="ADD_GROUPS" value="Add"
      tal:condition="batch"
      title="Shortcut: Alt-A" accesskey="A"
      i18n:attributes="value; accesskey" />
  </div>
</fieldset>
<div class="controls">

  <input type="submit" class="button-cancel" name="CANCEL" value="Done"
    i18n:attributes="value cancel-button" />
</div>
</form>

</metal:block>
</body>
</html>
